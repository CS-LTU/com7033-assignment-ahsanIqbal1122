
<form method="post" action="{{ form_action if form_action is defined else '' }}">
  <div class="row">
    {% if show_id is not defined or show_id %}
    <div class="col-md-4 mb-3">
      <label class="form-label">ID</label>
      <input class="form-control" name="id" value="{{ patient['id'] if patient else '' }}" {% if action == 'Edit' %}readonly{% endif %}>
    </div>
    {% endif %}
    <div class="col-md-4 mb-3">
      <label class="form-label">Gender</label>
      <select class="form-select" name="gender" required>
        <option value="">Select</option>
        <option value="Male" {% if patient and patient['gender']=='Male' %}selected{% endif %}>Male</option>
        <option value="Female" {% if patient and patient['gender']=='Female' %}selected{% endif %}>Female</option>
        <option value="Other" {% if patient and patient['gender']=='Other' %}selected{% endif %}>Other</option>
      </select>
    </div>
    <div class="col-md-4 mb-3">
      <label class="form-label">Age</label>
      <input class="form-control" name="age" value="{{ patient['age'] if patient else '' }}">
    </div>
  </div>

  <div class="row">
    <div class="col-md-3 mb-3">
      <label class="form-label">Hypertension (0/1)</label>
      <input class="form-control" name="hypertension" value="{{ patient['hypertension'] if patient else '' }}">
    </div>
    <div class="col-md-3 mb-3">
      <label class="form-label">Ever Married</label>
      <select class="form-select" name="ever_married" required>
        <option value="">Select</option>
        <option value="Yes" {% if patient and patient['ever_married']=='Yes' %}selected{% endif %}>Yes</option>
        <option value="No" {% if patient and patient['ever_married']=='No' %}selected{% endif %}>No</option>
      </select>
    </div>
    <div class="col-md-3 mb-3">
      <label class="form-label">Work Type</label>
      <select class="form-select" name="work_type" required>
        <option value="">Select</option>
        <option value="Children" {% if patient and patient['work_type']=='Children' %}selected{% endif %}>Children</option>
        <option value="Govt_job" {% if patient and patient['work_type']=='Govt_job' %}selected{% endif %}>Govt_job</option>
        <option value="Never_worked" {% if patient and patient['work_type']=='Never_worked' %}selected{% endif %}>Never_worked</option>
        <option value="Private" {% if patient and patient['work_type']=='Private' %}selected{% endif %}>Private</option>
        <option value="Self-employed" {% if patient and patient['work_type']=='Self-employed' %}selected{% endif %}>Self-employed</option>
      </select>
    </div>
    <div class="col-md-3 mb-3">
      <label class="form-label">Residence Type</label>
      <select class="form-select" name="Residence_type" required>
        <option value="">Select</option>
        <option value="Urban" {% if patient and patient['Residence_type']=='Urban' %}selected{% endif %}>Urban</option>
        <option value="Rural" {% if patient and patient['Residence_type']=='Rural' %}selected{% endif %}>Rural</option>
      </select>
    </div>
  </div>

  <div class="row">
    <div class="col-md-4 mb-3">
      <label class="form-label">Avg Glucose Level</label>
      <input class="form-control" name="avg_glucose_level" value="{{ patient['avg_glucose_level'] if patient else '' }}">
    </div>
    <div class="col-md-4 mb-3">
      <label class="form-label">BMI</label>
      <input class="form-control" name="bmi" value="{{ patient['bmi'] if patient else '' }}">
    </div>
    <div class="col-md-4 mb-3">
      <label class="form-label">Smoking Status</label>
      <input class="form-control" name="smoking_status" value="{{ patient['smoking_status'] if patient else '' }}">
    </div>
  </div>

  <div class="mb-3">
     <label class="form-label">Stroke (0/1)</label>
     <select class="form-select" name="stroke" required>
      <option value="">Select</option>
      <option value="0" {% if patient and patient['stroke']==0 %}selected{% endif %}>No</option>
      <option value="1" {% if patient and patient['stroke']==1 %}selected{% endif %}>Yes</option>
     </select>
  </div>

  <div class="d-flex gap-2">
    <button class="btn btn-success">{{ action if action is defined else 'Save' }}</button>
    {% if cancel_url is defined %}
      <a href="{{ cancel_url }}" class="btn btn-outline-secondary">Cancel</a>
    {% endif %}
  </div>
</form>
